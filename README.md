# Лабораторная работа №2 по курсу «Функциональное программирование»

Выполнил: Тюрин Иван, группа P34102

Текст задания: [TASK.md](./TASK.md)

Вариант: `bt-bag`

|                           | Bag(multiset) |
|---------------------------|---------------|
| Binary Tree               | `bt-bag`      |

## Требования

1. Функции:
    - [x] добавление и удаление элементов;
    - [x] фильтрация;
    - [x] отображение (map);
    - [x] свертки (левая и правая);
    - [x] структура должна быть [моноидом](https://ru.m.wikipedia.org/wiki/Моноид).
2. Структуры данных должны быть
    - [x] неизменяемыми,
    - [x] полиморфными. (это про реализуемую структуру данных?)
3. Библиотека должна быть протестирована в рамках
    - [ ] unit testing.
    - [ ] property-based тестирования (как минимум 3 свойства, включая свойства моноида).
4. Нефункциональные требования:
    - [ ] Должна быть эффективная реализация функции сравнения, реализованная на
    уровне API, а не внутреннего представления.

## Комментарии по ходу выполнения

< ... >

Пример наивной реализации Tree
- можно видеть в книге Type Driven Development в листинге "Listing 4.7 Defining binary trees (Tree.idr)"

Примеры реализаций структур на Idris:
- Idris2 Tree с верификацией: https://github.com/polendri/idris-collections/blob/master/src/Collections/BSTree/Set/Core.idr
- https://github.com/jfdm/idris-containers
- https://github.com/buzden/deptycheck/blob/master/examples/sorted-tree-naive/src/Data/SortedBinTree.idr

Пришел к выводу, что ограничения на типы в структуре данных лучше оставлять в
методах для работы с этой структурой данных. Подробнее:
- https://stackoverflow.com/a/19650352/19036461

По ходу работы возникла проблема с LSP — он зависает и нагружает 100% CPU.
- https://github.com/idris-community/idris2-lsp/issues/240

## Тестовое покрытие

- тесты, отчет инструмента тестирования, метрики;

## Выводы
